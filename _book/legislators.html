<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Bayesian Model Examples</title>
  <meta name="description" content="Bayesian Model Examples">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Bayesian Model Examples" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Bayesian Model Examples" />
  
  
  

<meta name="author" content="Jeffrey B. Arnold and Simon Jackman">


<meta name="date" content="2017-06-09">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="sophistication.html">
<link rel="next" href="identification-by-fixing-legislators-signs.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="undervote.html"><a href="undervote.html"><i class="fa fa-check"></i><b>1</b> Undervoting for President, by Race: difference in two binomial proportions</a></li>
<li class="chapter" data-level="2" data-path="cancer.html"><a href="cancer.html"><i class="fa fa-check"></i><b>2</b> Cancer: difference in two binomial proportions</a></li>
<li class="chapter" data-level="3" data-path="a-tibble-2-x-3.html"><a href="a-tibble-2-x-3.html"><i class="fa fa-check"></i><b>3</b> A tibble: 2 x 3</a><ul>
<li class="chapter" data-level="3.1" data-path="a-tibble-2-x-3.html"><a href="a-tibble-2-x-3.html#two-sample-binomial-model"><i class="fa fa-check"></i><b>3.1</b> Two Sample Binomial Model</a></li>
<li class="chapter" data-level="3.2" data-path="a-tibble-2-x-3.html"><a href="a-tibble-2-x-3.html#binomial-logit-model-of-the-difference"><i class="fa fa-check"></i><b>3.2</b> Binomial Logit Model of the Difference</a></li>
<li class="chapter" data-level="3.3" data-path="a-tibble-2-x-3.html"><a href="a-tibble-2-x-3.html#questions"><i class="fa fa-check"></i><b>3.3</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="florida.html"><a href="florida.html"><i class="fa fa-check"></i><b>4</b> Florida: Learning About an Unknown Proportion from Survey Data</a></li>
<li class="chapter" data-level="5" data-path="turnout.html"><a href="turnout.html"><i class="fa fa-check"></i><b>5</b> Turnout: logit/probit models for binary data</a><ul>
<li class="chapter" data-level="5.1" data-path="turnout.html"><a href="turnout.html#datas"><i class="fa fa-check"></i><b>5.1</b> Datas</a></li>
<li class="chapter" data-level="5.2" data-path="turnout.html"><a href="turnout.html#logit-model"><i class="fa fa-check"></i><b>5.2</b> Logit Model</a></li>
<li class="chapter" data-level="5.3" data-path="turnout.html"><a href="turnout.html#probit-model"><i class="fa fa-check"></i><b>5.3</b> Probit Model</a></li>
<li class="chapter" data-level="5.4" data-path="turnout.html"><a href="turnout.html#rstanarm"><i class="fa fa-check"></i><b>5.4</b> rstanarm</a></li>
<li class="chapter" data-level="" data-path="turnout.html"><a href="turnout.html#questions-1"><i class="fa fa-check"></i>Questions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="cosponsorship.html"><a href="cosponsorship.html"><i class="fa fa-check"></i><b>6</b> Cosponsorship: computing auxiliary quantities from MCMC output</a><ul>
<li class="chapter" data-level="6.1" data-path="cosponsorship.html"><a href="cosponsorship.html#model"><i class="fa fa-check"></i><b>6.1</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="reagan.html"><a href="reagan.html"><i class="fa fa-check"></i><b>7</b> Reagan: linear regression with AR(1) disturbances</a><ul>
<li class="chapter" data-level="7.1" data-path="reagan.html"><a href="reagan.html#cochrane-orcuttprais-winsten"><i class="fa fa-check"></i><b>7.1</b> Cochrane-Orcutt/Prais-Winsten</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="sophistication.html"><a href="sophistication.html"><i class="fa fa-check"></i><b>8</b> Political Sophistication: item-response modeling with mixed data types</a><ul>
<li class="chapter" data-level="8.1" data-path="sophistication.html"><a href="sophistication.html#data"><i class="fa fa-check"></i><b>8.1</b> Data</a></li>
<li class="chapter" data-level="8.2" data-path="sophistication.html"><a href="sophistication.html#model-1"><i class="fa fa-check"></i><b>8.2</b> Model</a></li>
<li class="chapter" data-level="8.3" data-path="sophistication.html"><a href="sophistication.html#estimation"><i class="fa fa-check"></i><b>8.3</b> Estimation</a></li>
<li class="chapter" data-level="8.4" data-path="sophistication.html"><a href="sophistication.html#questions-extensions"><i class="fa fa-check"></i><b>8.4</b> Questions / Extensions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="legislators.html"><a href="legislators.html"><i class="fa fa-check"></i><b>9</b> Legislators: estimating legislators’ ideal points from voting histories (roll call data)</a><ul>
<li class="chapter" data-level="9.1" data-path="legislators.html"><a href="legislators.html#identification"><i class="fa fa-check"></i><b>9.1</b> Identification</a></li>
<li class="chapter" data-level="9.2" data-path="legislators.html"><a href="legislators.html#th-senate"><i class="fa fa-check"></i><b>9.2</b> 109th Senate</a></li>
<li class="chapter" data-level="9.3" data-path="legislators.html"><a href="legislators.html#identification-by-fixing-legislators-ideal-points"><i class="fa fa-check"></i><b>9.3</b> Identification by Fixing Legislator’s Ideal Points</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="identification-by-fixing-legislators-signs.html"><a href="identification-by-fixing-legislators-signs.html"><i class="fa fa-check"></i><b>10</b> Identification by fixing Legislator’s Signs</a><ul>
<li class="chapter" data-level="10.1" data-path="identification-by-fixing-legislators-signs.html"><a href="identification-by-fixing-legislators-signs.html#questions-2"><i class="fa fa-check"></i><b>10.1</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="judges.html"><a href="judges.html"><i class="fa fa-check"></i><b>11</b> Judges: estimating the ideological locations of Supreme Court justices</a></li>
<li class="chapter" data-level="12" data-path="resistant.html"><a href="resistant.html"><i class="fa fa-check"></i><b>12</b> Resistant: Outlier-resistant regression via the Student’s <span class="math inline">\(t\)</span> distribution</a><ul>
<li class="chapter" data-level="12.1" data-path="resistant.html"><a href="resistant.html#data-1"><i class="fa fa-check"></i><b>12.1</b> Data</a></li>
<li class="chapter" data-level="" data-path="resistant.html"><a href="resistant.html#questions-3"><i class="fa fa-check"></i>Questions</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="uk92.html"><a href="uk92.html"><i class="fa fa-check"></i><b>13</b> House of Commons elections: modeling with the multivariate Student-<span class="math inline">\(t\)</span> density</a><ul>
<li class="chapter" data-level="13.1" data-path="uk92.html"><a href="uk92.html#questions-4"><i class="fa fa-check"></i><b>13.1</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="campaign.html"><a href="campaign.html"><i class="fa fa-check"></i><b>14</b> Pooling the Polls Over an Election Campaign</a><ul>
<li class="chapter" data-level="14.1" data-path="campaign.html"><a href="campaign.html#data-2"><i class="fa fa-check"></i><b>14.1</b> Data</a></li>
<li class="chapter" data-level="14.2" data-path="campaign.html"><a href="campaign.html#model-2"><i class="fa fa-check"></i><b>14.2</b> Model</a></li>
<li class="chapter" data-level="14.3" data-path="campaign.html"><a href="campaign.html#estimation-1"><i class="fa fa-check"></i><b>14.3</b> Estimation</a></li>
<li class="chapter" data-level="14.4" data-path="campaign.html"><a href="campaign.html#questions-5"><i class="fa fa-check"></i><b>14.4</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="aspirin.html"><a href="aspirin.html"><i class="fa fa-check"></i><b>15</b> Aspirin: Borrowing Strength via Hierarchical Modeling</a><ul>
<li class="chapter" data-level="15.1" data-path="aspirin.html"><a href="aspirin.html#non-centered-parameterization"><i class="fa fa-check"></i><b>15.1</b> Non-centered parameterization</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="corporatism.html"><a href="corporatism.html"><i class="fa fa-check"></i><b>16</b> Corporatism: Hierarchical model for economic growth</a></li>
<li class="chapter" data-level="17" data-path="unidentified.html"><a href="unidentified.html"><i class="fa fa-check"></i><b>17</b> Unidentified: over-parameterization of normal mean</a></li>
<li class="chapter" data-level="18" data-path="engines-right-censored-failure-times.html"><a href="engines-right-censored-failure-times.html"><i class="fa fa-check"></i><b>18</b> Engines: right-censored failure times</a><ul>
<li class="chapter" data-level="18.1" data-path="engines-right-censored-failure-times.html"><a href="engines-right-censored-failure-times.html#data-3"><i class="fa fa-check"></i><b>18.1</b> Data</a></li>
<li class="chapter" data-level="18.2" data-path="engines-right-censored-failure-times.html"><a href="engines-right-censored-failure-times.html#model-3"><i class="fa fa-check"></i><b>18.2</b> Model</a></li>
<li class="chapter" data-level="18.3" data-path="engines-right-censored-failure-times.html"><a href="engines-right-censored-failure-times.html#estimation-2"><i class="fa fa-check"></i><b>18.3</b> Estimation</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="truncation-how-does-stan-deal-with-truncation.html"><a href="truncation-how-does-stan-deal-with-truncation.html"><i class="fa fa-check"></i><b>19</b> Truncation: How does Stan deal with truncation?</a><ul>
<li class="chapter" data-level="19.1" data-path="truncation-how-does-stan-deal-with-truncation.html"><a href="truncation-how-does-stan-deal-with-truncation.html#stan-model"><i class="fa fa-check"></i><b>19.1</b> Stan Model</a></li>
<li class="chapter" data-level="19.2" data-path="truncation-how-does-stan-deal-with-truncation.html"><a href="truncation-how-does-stan-deal-with-truncation.html#estimation-3"><i class="fa fa-check"></i><b>19.2</b> Estimation</a></li>
<li class="chapter" data-level="19.3" data-path="truncation-how-does-stan-deal-with-truncation.html"><a href="truncation-how-does-stan-deal-with-truncation.html#questions-6"><i class="fa fa-check"></i><b>19.3</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="genbeetles.html"><a href="genbeetles.html"><i class="fa fa-check"></i><b>20</b> Generalized Beetles: Generalizing Link Functions for Binomial GLMs</a><ul>
<li class="chapter" data-level="20.1" data-path="genbeetles.html"><a href="genbeetles.html#data-4"><i class="fa fa-check"></i><b>20.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="negbin.html"><a href="negbin.html"><i class="fa fa-check"></i><b>21</b> Negative Binomial: Estimating Homicides in Census Tracks</a></li>
<li class="chapter" data-level="22" data-path="multivarmissing.html"><a href="multivarmissing.html"><i class="fa fa-check"></i><b>22</b> Multivariate Missing Data</a><ul>
<li class="chapter" data-level="22.1" data-path="multivarmissing.html"><a href="multivarmissing.html#separate-regressions"><i class="fa fa-check"></i><b>22.1</b> Separate Regressions</a></li>
<li class="chapter" data-level="22.2" data-path="multivarmissing.html"><a href="multivarmissing.html#multivariate-normal"><i class="fa fa-check"></i><b>22.2</b> Multivariate Normal</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Bayesian Model Examples</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="legislators" class="section level1">
<h1><span class="header-section-number">9</span> Legislators: estimating legislators’ ideal points from voting histories (roll call data)</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;pscl&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;forcats&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;stringr&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;rstan&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;sn&quot;</span>)</code></pre></div>
<p>Recorded votes in legislative settings (roll calls) are often used to recover the underlying preferences of legislators.<a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a> Political scientists analyze roll call data using the Euclidean spatial voting model: each legislator (i = 1, …, n) has a preferred policy position (xi, a point in low-dimensional Euclidean space), and each vote (j = 1, …, m) amounts to a choice between “Aye” and a “Nay” locations, qj and Yj, respectively. Legislators are assumed to choose on the basis of utility maximization, with utilities (in one-dimension)</p>
<p>In these models, the only observed data are votes, and the analyst wants to model those votes as a function of legislator- (<span class="math inline">\(\xi_i\)</span>), and vote-specific (<span class="math inline">\(\alpha_i\)</span>, <span class="math inline">\(\beta_i\)</span>) parameters. The vote of legislator <span class="math inline">\(i\)</span> on roll-call <span class="math inline">\(j\)</span> (<span class="math inline">\(y_{i,j}\)</span>) is a function of a the legislator’s ideal point (<span class="math inline">\(\xi_i\)</span>), the vote’s cutpoint (<span class="math inline">\(\alpha_j\)</span>), and the vote’s discrimination (<span class="math inline">\(\beta_j\)</span>): <span class="math display">\[
\begin{aligned}[t]
y_{i,j} &amp;\sim \mathsf{Bernoulli}(\pi_i) \\
\pi_i &amp;= \frac{1}{1 + \exp(-\mu_{i,j})} \\
\mu_{i,j} &amp;= \beta_j \xi_i - \alpha_j
\end{aligned}
\]</span></p>
<div id="identification" class="section level2">
<h2><span class="header-section-number">9.1</span> Identification</h2>
<p>Ideal points (like many latent space models) are unidentified. In particular, there are three types of invariance:</p>
<ol style="list-style-type: decimal">
<li>Additive Aliasing</li>
<li>Multiplicative Ailising</li>
<li>Rotation (Reflection) Invariance</li>
</ol>
<p>Scale invariance: <span class="math display">\[
\begin{aligned}[t]
\mu_{i,j} &amp;= \alpha_j + \beta_j \xi_i \\
         &amp;= \alpha_j + \left(\frac{\beta_j}{c}\right) \left(\xi_i c \right) \\
         &amp;= \alpha_j + \beta^*_j \xi^*_i
\end{aligned}
\]</span></p>
<p>Addition invariance: <span class="math display">\[
\begin{aligned}[t]
\mu_{i,j} &amp;= \alpha_j + \beta_j \xi_i \\
          &amp;= \alpha_j - \beta_j c + \beta_j c + \beta_j \xi_i \\
         &amp;= (\alpha_j - \beta_j c) + \beta_j (\xi_i + c) \\
         &amp;= \alpha_j^* + \beta_j \xi^*_i
\end{aligned}
\]</span></p>
<p>Rotation invariance: <span class="math display">\[
\begin{aligned}[t]
\mu_{i,j} &amp;= \alpha_j + \beta_j \xi_i \\
          &amp;= \alpha_j  + \beta_j (-1) (-1) \xi_i \\
          &amp;= \alpha_j  + (-\beta_j) (-\xi_i) \\          
          &amp;= \alpha_j + \beta_j^* \xi^*_i
\end{aligned}
\]</span></p>
<p>Example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xi &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="dv">1</span>)
alpha &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="op">-</span><span class="dv">1</span>)
beta &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="fl">0.5</span>, <span class="dv">0</span>, <span class="fl">0.5</span>)
y &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>), <span class="dv">3</span>, <span class="dv">4</span>)
k &lt;-<span class="st"> </span><span class="dv">1</span>

<span class="kw">list</span>(<span class="kw">sum</span>(<span class="kw">plogis</span>(y <span class="op">-</span><span class="st"> </span>(alpha <span class="op">+</span><span class="st"> </span>beta <span class="op">%o%</span><span class="st"> </span>xi))),
     <span class="kw">sum</span>(<span class="kw">plogis</span>(y <span class="op">-</span><span class="st"> </span>(alpha <span class="op">+</span><span class="st"> </span><span class="op">-</span>beta <span class="op">%o%</span><span class="st"> </span><span class="op">-</span>xi))),
     <span class="kw">sum</span>(<span class="kw">plogis</span>(y <span class="op">-</span><span class="st"> </span>((alpha <span class="op">-</span><span class="st"> </span>beta <span class="op">*</span><span class="st"> </span>k) <span class="op">+</span><span class="st"> </span>beta <span class="op">%o%</span><span class="st"> </span>(xi <span class="op">+</span><span class="st"> </span>k)))),
     <span class="kw">sum</span>(<span class="kw">plogis</span>(y <span class="op">-</span><span class="st"> </span>((alpha <span class="op">+</span><span class="st"> </span>(beta <span class="op">/</span><span class="st"> </span>k) <span class="op">%o%</span><span class="st"> </span>(xi <span class="op">*</span><span class="st"> </span>k))))))
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] 7.5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] 7.5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] 7.5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt; [1] 7.5</span></code></pre></div>
<p>For each of these: Which types of rotation does it solve?</p>
<ol style="list-style-type: decimal">
<li>Fix one element of <span class="math inline">\(\beta\)</span>.</li>
<li>Fix one element of <span class="math inline">\(\xi\)</span>.</li>
<li>Fix one element of <span class="math inline">\(\alpha\)</span>.</li>
<li>Fix two elements of <span class="math inline">\(\alpha\)</span>.</li>
<li>Fix two elements of <span class="math inline">\(\xi\)</span>.</li>
<li>Fix two elements of <span class="math inline">\(\beta\)</span>.</li>
</ol>
</div>
<div id="th-senate" class="section level2">
<h2><span class="header-section-number">9.2</span> 109th Senate</h2>
<p>This example models the voting of the <a href="https://en.wikipedia.org/wiki/109th_United_States_Congress">109th U.S. Senate</a>. Votes for the 109th Senate is included in the <strong>pscl</strong> package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;s109&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;pscl&quot;</span>)</code></pre></div>
<p>The <code>s109</code> object is not a data frame, so see its documentation for information about its structure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s109
<span class="co">#&gt; Description:  109th U.S. Senate </span>
<span class="co">#&gt; Source:       ftp://voteview.com/dtaord/sen109kh.ord </span>
<span class="co">#&gt; Number of Legislators:    102 </span>
<span class="co">#&gt; Number of Votes:  645 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Using the following codes to represent roll call votes:</span>
<span class="co">#&gt; Yea:      1 2 3 </span>
<span class="co">#&gt; Nay:      4 5 6 </span>
<span class="co">#&gt; Abstentions:  7 8 9 </span>
<span class="co">#&gt; Not In Legislature:   0 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Legislator-specific variables:</span>
<span class="co">#&gt; [1] &quot;state&quot;      &quot;icpsrState&quot; &quot;cd&quot;         &quot;icpsrLegis&quot; &quot;party&quot;     </span>
<span class="co">#&gt; [6] &quot;partyCode&quot; </span>
<span class="co">#&gt; Vote-specific variables:</span>
<span class="co">#&gt; [1] &quot;date&quot;        &quot;session&quot;     &quot;number&quot;      &quot;bill&quot;        &quot;question&quot;   </span>
<span class="co">#&gt; [6] &quot;result&quot;      &quot;description&quot; &quot;yeatotal&quot;    &quot;naytotal&quot;   </span>
<span class="co">#&gt; Detailed information is available via the summary function.</span></code></pre></div>
<p>This data includes all <a href="https://en.wikipedia.org/wiki/Voting_methods_in_deliberative_assemblies">roll-call</a> votes, votes in which the responses of the senators are recorded.</p>
<p>For simplicity, the ideal point model uses binary responses, but the <code>s109</code> data includes multiple <a href="http://voteview.com/senate109.htm">codes</a> for respones to roll-calls.</p>
<table>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="left">not a member</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">Yea</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="left">Paired Yea</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="left">Announced Yea,</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="left">Announced Nay</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="left">Paired Nay</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="left">Nay</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="left">Present (some Congresses, also not used some Congresses)</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="left">Present (some Congresses, also not used some Congresses)</td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">Nay</td>
</tr>
<tr class="odd">
<td align="left">9</td>
<td align="left">Not Voting</td>
</tr>
</tbody>
</table>
<p>In the data processing, we will aggregate the respones into “Yes”, “No”, and missing values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s109_vote_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(s109<span class="op">$</span>vote.data) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rollcall =</span> <span class="kw">paste</span>(session, number, <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>),
         <span class="dt">passed =</span> result <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Confirmed&quot;</span>, <span class="st">&quot;Agreed To&quot;</span>, <span class="st">&quot;Passed&quot;</span>),
         <span class="dt">pct_yea =</span> yeatotal <span class="op">/</span><span class="st"> </span>(yeatotal <span class="op">+</span><span class="st"> </span>naytotal),
         <span class="dt">unanimous =</span> pct_yea <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),
         <span class="dt">lopsided =</span> pct_yea <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.35</span> <span class="op">|</span><span class="st"> </span>pct_yea <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.65</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span>unanimous) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">.rollcall_id =</span> <span class="kw">row_number</span>())

s109_legis_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(s109<span class="op">$</span>legis.data) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">rownames_to_column</span>(<span class="st">&quot;legislator&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">.legis_id =</span> <span class="kw">row_number</span>(),
         <span class="dt">party =</span> <span class="kw">fct_recode</span>(party,
                            <span class="st">&quot;Democratic&quot;</span> =<span class="st"> &quot;D&quot;</span>,
                            <span class="st">&quot;Republican&quot;</span> =<span class="st"> &quot;R&quot;</span>,
                            <span class="st">&quot;Independent&quot;</span> =<span class="st"> &quot;Indep&quot;</span>))

s109_votes &lt;-<span class="st"> </span>s109<span class="op">$</span>votes <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">rownames_to_column</span>(<span class="st">&quot;legislator&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">gather</span>(rollcall, vote, <span class="op">-</span>legislator) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># recode to Yea (TRUE), Nay (FALSE), or missing</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">yea =</span> <span class="ot">NA</span>,
         <span class="dt">yea =</span> <span class="kw">if_else</span>(vote <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="ot">TRUE</span>, yea),
         <span class="dt">yea =</span> <span class="kw">if_else</span>(vote <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="ot">FALSE</span>, yea)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(yea)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">inner_join</span>(dplyr<span class="op">::</span><span class="kw">select</span>(s109_vote_data, rollcall, .rollcall_id), <span class="dt">by =</span> <span class="st">&quot;rollcall&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">inner_join</span>(dplyr<span class="op">::</span><span class="kw">select</span>(s109_legis_data, legislator, party, .legis_id), <span class="dt">by =</span> <span class="st">&quot;legislator&quot;</span>)</code></pre></div>
</div>
<div id="identification-by-fixing-legislators-ideal-points" class="section level2">
<h2><span class="header-section-number">9.3</span> Identification by Fixing Legislator’s Ideal Points</h2>
<p>Identification of latent state models can be challenging. The first method for identifying ideal point models is to fix the values of two legislators. These can be arbitrary, but if they are chosen along the ideological dimension of interest it can help the substantive interpretation.</p>
<p>Since we  know, or expect, that the primary ideological dimension is Liberal-Conservative <span class="citation">(Poole and Rosenthal <a href="#ref-PooleRosenthal2000a">2000</a>)</span>, I’ll fix the ideal points of the two party leaders in that congress. In the 109th Congress, the Republican party was the majority party and <a href="https://en.wikipedia.org/wiki/Bill_Frist">Bill Frist</a> (Tennessee) was the majority (Republican) leader, and <a href="https://en.wikipedia.org/wiki/Harry_Reid">Harry Reid</a> (Nevada) wad the minority (Democratic) leader: <span class="math display">\[
\begin{aligned}[t]
\xi_\text{FRIST (R TN)} &amp; = 1 \\
\xi_\text{REID (D NV)} &amp; = -1
\end{aligned}
\]</span></p>
<p>For all of those give a weakly informative prior to the ideal points, and item difficulty and discrimination parameters, <span class="math display">\[
\begin{aligned}[t]
\xi_{i} &amp;\sim \mathsf{Normal}(\zeta, \tau) \\
\zeta &amp;\sim \mathsf{Normal}(0., 10) \\
\tau &amp;\sim \mathsf{HalfCauchy}(0., 5) \\
\alpha_{j} &amp;\sim \mathsf{Normal}(0, 10) \\
\beta_{j} &amp;\sim \mathsf{Normal}(0, 2.5) &amp;&amp; j \in 1, \dots, J
\end{aligned}
\]</span></p>
<p>Create a data frame with the fixed values for identification and initial values for the legislators</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xi &lt;-
<span class="st">  </span>s109_legis_data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="co"># set values</span>
         <span class="dt">xi =</span> <span class="kw">if_else</span>(legislator <span class="op">==</span><span class="st"> &quot;FRIST (R TN)&quot;</span>, <span class="dv">1</span>,
                 <span class="kw">if_else</span>(legislator <span class="op">==</span><span class="st"> &quot;REID (D NV)&quot;</span>, <span class="op">-</span><span class="dv">1</span>, <span class="ot">NA_real_</span>)),
         <span class="dt">init =</span> <span class="kw">if_else</span>(party <span class="op">==</span><span class="st"> &quot;Republican&quot;</span>, <span class="dv">1</span>,
                        <span class="kw">if_else</span>(party <span class="op">==</span><span class="st"> &quot;Democratic&quot;</span>, <span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>)))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">legislators_data_<span class="dv">1</span> &lt;-
<span class="st">  </span><span class="kw">within</span>(<span class="kw">list</span>(), {
    y &lt;-<span class="st"> </span><span class="kw">as.integer</span>(s109_votes<span class="op">$</span>yea)
    y_idx_leg &lt;-<span class="st"> </span><span class="kw">as.integer</span>(s109_votes<span class="op">$</span>.legis_id)
    y_idx_vote &lt;-<span class="st"> </span><span class="kw">as.integer</span>(s109_votes<span class="op">$</span>.rollcall_id)
    Y_obs &lt;-<span class="st"> </span><span class="kw">length</span>(y)
    N &lt;-<span class="st"> </span><span class="kw">max</span>(s109_votes<span class="op">$</span>.legis_id)
    K &lt;-<span class="st"> </span><span class="kw">max</span>(s109_votes<span class="op">$</span>.rollcall_id)
    <span class="co"># priors</span>
    alpha_loc &lt;-<span class="st"> </span><span class="dv">0</span>
    alpha_scale &lt;-<span class="st"> </span><span class="dv">5</span>
    beta_loc &lt;-<span class="st"> </span><span class="dv">0</span>
    beta_scale &lt;-<span class="st"> </span><span class="fl">2.5</span>
    N_xi_obs &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="op">!</span><span class="kw">is.na</span>(xi<span class="op">$</span>xi))
    idx_xi_obs &lt;-<span class="st"> </span><span class="kw">which</span>(<span class="op">!</span><span class="kw">is.na</span>(xi<span class="op">$</span>xi))
    xi_obs &lt;-<span class="st"> </span>xi<span class="op">$</span>xi[<span class="op">!</span><span class="kw">is.na</span>(xi<span class="op">$</span>xi)]
    N_xi_param &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">is.na</span>(xi<span class="op">$</span>xi))
    idx_xi_param &lt;-<span class="st"> </span><span class="kw">which</span>(<span class="kw">is.na</span>(xi<span class="op">$</span>xi))
    tau_scale &lt;-<span class="st"> </span><span class="dv">5</span>
    zeta_loc &lt;-<span class="st"> </span><span class="dv">0</span>
    zeta_scale &lt;-<span class="st"> </span><span class="dv">10</span>
  })</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">legislators_init_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="kw">list</span>(<span class="dt">xi_param =</span> xi<span class="op">$</span>init[<span class="kw">is.na</span>(xi<span class="op">$</span>xi)])
)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">legislators_fit_<span class="dv">1</span> &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw">sampling</span>(mod_ideal_point_<span class="dv">2</span>, <span class="dt">data =</span> legislators_data_<span class="dv">1</span>,
           <span class="dt">chains =</span> <span class="dv">1</span>, <span class="dt">iter =</span> <span class="dv">500</span>,
           <span class="dt">init =</span> legislators_init_<span class="dv">1</span>,
           <span class="dt">refresh =</span> <span class="dv">100</span>)</code></pre></div>
<p>Extract the ideal point data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">legislator_summary_<span class="dv">1</span> &lt;-
<span class="st">  </span><span class="kw">bind_cols</span>(s109_legis_data,
           <span class="kw">as_tibble</span>(<span class="kw">summary</span>(legislators_fit_<span class="dv">1</span>, <span class="dt">par =</span> <span class="st">&quot;xi&quot;</span>)<span class="op">$</span>summary)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">legislator =</span> <span class="kw">fct_reorder</span>(legislator, mean))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(legislator_summary_<span class="dv">1</span>,
       <span class="kw">aes</span>(<span class="dt">x =</span> legislator, <span class="dt">y =</span> mean,
           <span class="dt">ymin =</span> <span class="st">`</span><span class="dt">2.5%</span><span class="st">`</span>, <span class="dt">ymax =</span> <span class="st">`</span><span class="dt">97.5%</span><span class="st">`</span>, <span class="dt">colour =</span> party)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_pointrange</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="dt">Democratic =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">Independent =</span> <span class="st">&quot;gray&quot;</span>, <span class="dt">Republican =</span> <span class="st">&quot;red&quot;</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="kw">expression</span>(xi[i]), <span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;Party&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="legislators_files/figure-html/legislator_plot_1-1.png" alt="Estimated Ideal Points of the Senators of the 109th Congress" width="70%" />
<p class="caption">
Estimated Ideal Points of the Senators of the 109th Congress
</p>
</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-PooleRosenthal2000a">
<p>Poole, Keith T., and Howard Rosenthal. 2000. <em>Congress: A Political-Economic History of Roll Call Voting</em>. Oxford University Press.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="7">
<li id="fn7"><p>Example derived from Simon Jackman, “Legislators: estimating legislators’ ideal points from voting histories (roll call data)”, <em>BUGS Examples,</em> 2007-07-24, <a href="https://web-beta.archive.org/web/20070724034141/http://jackman.stanford.edu:80/mcmc/legislators.odc">URL</a>.<a href="legislators.html#fnref7">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sophistication.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="identification-by-fixing-legislators-signs.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
